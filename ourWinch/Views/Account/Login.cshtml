@model LoginViewModel


<style>
    body, html {
        width: 100%;
        height: 100%;
        margin: 0;
        padding: 0;
        font-family: Arial, sans-serif;
    }

    .container {
        width: 100%;
        margin: 0 auto;
        padding: 0 15px;
        box-sizing: border-box;
    }

    .login-container {
        max-width: 500px;
        margin: auto;
        height: 100vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
    }

    .login-box {
        border: 2px solid #000;
        padding: 25px;
        box-shadow: 7px 7px 12px rgba(0, 0, 0, 0.3);
        border-radius: 8px;
        background-color: #C0D0D7;
    }

    input.form-control, button.btn-outline-dark {
        background-color: #f6f6f6;
    }

    .form-group.position-relative:not(:last-child) {
        margin-bottom: 20px;
    }

    .form-group i {
        position: absolute;
        left: 10px;
        top: 50%;
        transform: translateY(-50%);
    }

    input.form-control {
        padding-left: 35px;
    }

    .text-right a {
        float: right;
        color: black;
        text-decoration: none;
        display: inline-block;
    }

    .logo-image {
        position: relative;
        width: 240px;
        height: 55px;
        background: url('/img/nøsted2.jpeg') no-repeat center; /* <--- Burada resim yolu kontrol edilmeli */
        background-size: 90%;
        filter: drop-shadow(0px 6px 4px rgba(0, 0, 0, 0.5));
        border-radius: 12px;
        margin-bottom: 20px;
    }

    .error-message strong {
        display: inline-block;
        width: 20px;
        height: 20px;
        background-color: red;
        color: white;
        border-radius: 50%;
        text-align: center;
        line-height: 20px;
        margin-right: 10px;
    }

</style>

<main class="container mt-6 text-center">
    <div class="login-container">
        <div class="login-box">
            <img class="logo-image" src="/img/nøsted2.jpeg" alt="nøsted Logo" />

            <h2 class="text-center mb-2 font-weight-bold">Login</h2>
            <p class="text-center mb-5">Logg på kontoen din</p>

            <form asp-action="Login" asp-controller="Account" method="post">
                <!-- Username input -->
                <div class="form-group position-relative m-4">
                    <i class="fas fa-user position-absolute"></i>
                    <input type="mobil" class="form-control pl-5" id="mobil" asp-for="Mobil" required placeholder="Mobil No">
                </div>

                <!-- Password input -->
                <div class="form-group position-relative m-4">
                    <i class="fas fa-key position-absolute"></i>
                    <input type="password" class="form-control pl-5 rounded-lg" id="Password" asp-for="Password" required placeholder="Password">
                </div>
                <!-- Submit button -->
                <div class="form-group mt-4 mb-1 m-4">
                    <input type="submit" class="form-control pl-5 btn-outline-dark btn-bg-primary btn-block btn btn-hover" style="background-color: #4945F9;" value="Login">
                </div>

                <div class="text-right mb-5 me-4">
                    <a asp-controller="Account" asp-action="GlemtPassord">Jeg glemte passordet mitt</a>
                </div>

            </form>
        </div>
    </div>
</main>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const form = document.querySelector("form");
        const errorMsg = document.createElement("div");
        errorMsg.className = "error-message";
        errorMsg.style.color = "red";
        errorMsg.style.marginTop = "10px";

        form.addEventListener("submit", function (e) {
            const usernameInput = document.querySelector("#mobil").value;
            const passwordInput = document.querySelector("#Password").value;

            const mockUsername = "123456";
            const mockPassword = "password";

            if (usernameInput === mockUsername && passwordInput === mockPassword) {
                form.submit(); // Formu sunucuya gönder
            } else {
                e.preventDefault();
                errorMsg.innerHTML = `
                <strong>X</strong> Feil mobil nummer eller password! Password må være på minst 8 tegn! Prøv igjen!
            `;
                form.appendChild(errorMsg);
            }
        });
    });
</script>